# üìå –ü–æ—á–µ–º—É —Å–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `Optional<T>` –≤ Java –∏ Spring Data JPA?

## üîπ –ß—Ç–æ —Ç–∞–∫–æ–µ `Optional<T>`?

`Optional<T>` ‚Äî —ç—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –ª–∏–±–æ **—Å–æ–¥–µ—Ä–∂–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ**, –ª–∏–±–æ –±—ã—Ç—å **–ø—É—Å—Ç—ã–º**. –û–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è **–∏–∑–±–µ–∂–∞–Ω–∏—è `NullPointerException`** –∏ —É–ø—Ä–æ—â–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã —Å –≤–æ–∑–º–æ–∂–Ω—ã–º–∏ `null`-–∑–Ω–∞—á–µ–Ω–∏—è–º–∏.

## üîπ –ü—Ä–æ–±–ª–µ–º–∞ —Å `null`

–î–æ–ø—É—Å—Ç–∏–º, —É –Ω–∞—Å –µ—Å—Ç—å –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –∏—â–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ ID:

```java
User user = userRepository.findById(1L); // –ú–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å null!
System.out.println(user.getName().toUpperCase()); // –í—ã–∑–æ–≤–µ—Ç NullPointerException, –µ—Å–ª–∏ user == null
```

–ï—Å–ª–∏ –≤ –±–∞–∑–µ **–Ω–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å ID 1**, –º–µ—Ç–æ–¥ –≤–µ—Ä–Ω—ë—Ç `null`, –∏ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ `getName()` –ø—Ä–æ–≥—Ä–∞–º–º–∞ **—É–ø–∞–¥—ë—Ç —Å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º**.

## üîπ –†–µ—à–µ–Ω–∏–µ: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `Optional<T>`

–í–º–µ—Å—Ç–æ –≤–æ–∑–≤—Ä–∞—Ç–∞ `null`, Spring Data JPA –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `Optional<T>`:

```java
Optional<User> optionalUser = userRepository.findById(1L);
optionalUser.ifPresent(user -> System.out.println(user.getName().toUpperCase()));
```

## üîπ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ `Optional<T>`

‚úî **–ò–∑–±–µ–≥–∞–µ—Ç `NullPointerException`**  
‚úî **–î–µ–ª–∞–µ—Ç –∫–æ–¥ —á–∏—â–µ –∏ —á–∏—Ç–∞–µ–º–µ–µ**  
‚úî **–ü—Ä–∏–Ω—É–∂–¥–∞–µ—Ç –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–∞ —è–≤–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å `null`-—Å–∏—Ç—É–∞—Ü–∏–∏**  
‚úî **–õ—É—á—à–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ–º –≤ Java (Stream API, Lambda)**  

## üîπ –ú–µ—Ç–æ–¥—ã `Optional<T>`, –∫–æ—Ç–æ—Ä—ã–µ —Å—Ç–æ–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

| –ú–µ—Ç–æ–¥                           | –û–ø–∏—Å–∞–Ω–∏–µ                                                 |
| ------------------------------- | -------------------------------------------------------- |
| `isPresent()`                   | –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –µ—Å—Ç—å –ª–∏ –≤–Ω—É—Ç—Ä–∏ –∑–Ω–∞—á–µ–Ω–∏–µ (`true` –∏–ª–∏ `false`). |
| `ifPresent(Consumer<T> action)` | –í—ã–ø–æ–ª–Ω—è–µ—Ç –¥–µ–π—Å—Ç–≤–∏–µ, –µ—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –µ—Å—Ç—å.                  |
| `orElse(T other)`               | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ, –µ—Å–ª–∏ –æ–Ω–æ –µ—Å—Ç—å, –∏–Ω–∞—á–µ `other`.       |
| `orElseGet(Supplier<T> other)`  | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ, –µ—Å–ª–∏ –æ–Ω–æ –µ—Å—Ç—å, –∏–Ω–∞—á–µ –≤—ã–∑—ã–≤–∞–µ—Ç `other`. |
| `orElseThrow(Supplier<X> exceptionSupplier)` | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ, –µ—Å–ª–∏ –æ–Ω–æ –µ—Å—Ç—å, –∏–Ω–∞—á–µ –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ. |
| `map(Function<T, U> mapper)`     | –ü—Ä–∏–º–µ–Ω—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –∫ –∑–Ω–∞—á–µ–Ω–∏—é, –µ—Å–ª–∏ –æ–Ω–æ –µ—Å—Ç—å.             |
| `flatMap(Function<T, Optional<U>> mapper)` | –ü—Ä–∏–º–µ–Ω—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `Optional<U>`. |
| `filter(Predicate<T> predicate)` | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ, –µ—Å–ª–∏ –æ–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø—Ä–µ–¥–∏–∫–∞—Ç—É.   |

üîã **–ò—Å–ø–æ–ª—å–∑—É–π `Optional<T>` –≤ Spring Data JPA –¥–ª—è –±–æ–ª–µ–µ –Ω–∞–¥—ë–∂–Ω–æ–≥–æ –∫–æ–¥–∞!**

